(this.webpackJsonpstudence=this.webpackJsonpstudence||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/noImageAvailable.625d1aff.jpg"},37:function(e,t,a){e.exports=a(66)},42:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),s=(a(42),a(1)),i=a(8),o=a(2),u=function(e){var t=Object(n.useState)(0),a=Object(s.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)((function(){l(e.cart.length)}),[e.cart]),r.a.createElement("nav",{className:"flexParent mainMenu"},r.a.createElement(i.b,{to:"/Studence"},r.a.createElement("h1",null,"Studence")),r.a.createElement(i.b,{className:"postAdNav",to:"/postAd"},"Post Ad"),r.a.createElement(i.b,{className:"account",to:"/account"},"Account ",r.a.createElement("i",{className:"fas fa-user-circle"})),r.a.createElement(i.b,{className:"cart",to:"/cart"},r.a.createElement("i",{"aria-label":"Click to view cart",className:"fas fa-shopping-cart shoppingCart"},c>0&&r.a.createElement("div",{className:"flexParent numberOfItems"},c<10?r.a.createElement("p",null,c):r.a.createElement("p",null,"9+")))))},m=function(e){return r.a.createElement(i.b,{className:"flexParent adListing",to:"/fullAd/".concat(e.ad.id),onClick:function(){return e.getSelectedAd(e.ad)}},r.a.createElement("div",{className:"flexParent adPicContainer"},""===e.ad.picture?r.a.createElement("img",{src:a(21),alt:e.ad.title}):r.a.createElement("img",{src:e.ad.picture,alt:e.ad.title})),r.a.createElement("div",{className:"adListingText"},r.a.createElement("h3",null,"Title: ",e.ad.title),r.a.createElement("p",null,"Price: $",e.ad.price)))},d=function(e){return r.a.createElement("div",{className:"flexParent flexColumn adBoard"},r.a.createElement("h2",null,e.title),e.ads.map((function(t,a){return r.a.createElement(m,{key:a,ad:t,getSelectedAd:e.getSelectedAd})})))},p=function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(""),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(""),p=Object(s.a)(d,2),f=p[0],E=p[1],b=Object(n.useState)(""),g=Object(s.a)(b,2),h=g[0],v=g[1],j=function(e,t){"signInUsername"===t?l(e.target.value):"signInPassword"===t?m(e.target.value):"registerUsername"===t?E(e.target.value):"registerPassword"===t&&v(e.target.value),""!==u&&""!==c?O("signIn"):N("signIn"),""!==h&&""!==f?O("register"):N("register")},O=function(e){document.getElementById(e).classList.remove("disabled")},N=function(e){document.getElementById(e).classList.add("disabled")};return r.a.createElement("ul",{className:"loginContainer"},r.a.createElement("li",{className:"flexParent flexColumn loginForm"},r.a.createElement("h2",null,"Sign In"),r.a.createElement("form",{action:"",className:"flexParent flexColumn"},r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",placeholder:"Enter Username",onChange:function(e){j(e,"signInUsername")}})),r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"text",id:"password",placeholder:"Enter Password",onChange:function(e){j(e,"signInPassword")}}))),r.a.createElement("button",{className:"siteButton disabled",id:"signIn",onClick:function(){return e.logUserIn(c,u)}},"Sign In")),r.a.createElement("li",{className:"flexParent flexColumn registerForm"},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{action:"",className:"flexParent flexColumn"},r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"newUsername"},"Username"),r.a.createElement("input",{type:"text",id:"newUsername",placeholder:"Enter Username",onChange:function(e){j(e,"registerUsername")}})),r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"newPassword"},"Password"),r.a.createElement("input",{type:"text",id:"newPassword",placeholder:"Enter Password",onChange:function(e){j(e,"registerPassword")}})),r.a.createElement("button",{className:"siteButton disabled",id:"register",onClick:function(t){return e.registerUser(f,h,t)}},"Register"))))},f=function(e){var t=e.ads;return t=t.filter((function(t){return t.username===e.currUser})),r.a.createElement("div",null,!e.isLoggedIn&&r.a.createElement(p,{logUserIn:e.logUserIn,registerUser:e.registerUser}),e.isLoggedIn&&r.a.createElement("div",null,r.a.createElement(d,{getSelectedAd:e.getSelectedAd,ads:t,title:"Your Ads"})))},E=a(11),b=a(36),g=a.n(b),h=function(e){var t,a=Object(n.useState)(""),c=Object(s.a)(a,2),l=c[0],i=c[1],o=Object(n.useState)(0),u=Object(s.a)(o,2),m=u[0],d=u[1],f=Object(n.useState)(""),b=Object(s.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(""),O=Object(s.a)(j,2),N=O[0],P=O[1],C=Object(n.useState)(""),S=Object(s.a)(C,2),w=S[0],I=S[1],x=Object(n.useState)(""),A=Object(s.a)(x,2),U=A[0],y=A[1],k=Object(n.useState)([]),L=Object(s.a)(k,2),B=L[0],F=L[1],T=Object(n.useState)(!1),q=Object(s.a)(T,2),D=q[0],$=q[1],J=function(e,t){var a=/\d+$/;"title"===t?i(e.target.value):"price"===t?(d(e.target.value),a.test(m)?$(!0):$(!1)):"searchPic"===t?v(e.target.value):"description"===t&&y(e.target.value),a.test(m)&&""!==l&&""!==U&&""!==m?W():z()},W=function(){document.getElementById("uploadAd").classList.remove("disabled")},z=function(){document.getElementById("uploadAd").classList.add("disabled")};return r.a.createElement("div",{className:"adPostContainer"},!e.isLoggedIn&&r.a.createElement(p,{logUserIn:e.logUserIn,registerUser:e.registerUser}),e.isLoggedIn&&r.a.createElement("form",{action:"",id:"adPost",className:"flexParent flexColumn"},r.a.createElement("div",{className:"inputLabelAd"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{required:!0,type:"text",id:"title",onChange:function(e){J(e,"title")}})),r.a.createElement("div",{className:"inputLabelAd"},r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{required:!0,type:"text",id:"price",onChange:function(e){J(e,"price")}}),!1===D&&r.a.createElement("p",null,"Please type only whole numbers!")),r.a.createElement("div",{className:"inputLabelAd"},r.a.createElement("label",{htmlFor:"searchPic"},"Search for Picture"),r.a.createElement("input",{type:"text",id:"searchPic",onChange:function(e){J(e,"searchPic")}})),r.a.createElement("button",{className:"siteButton",onClick:function(e){!function(e){e.preventDefault(),g()({url:"https://api.pexels.com/v1/search",method:"GET",responseType:"json",headers:{Authorization:"563492ad6f917000010000016fbbfe29d1004ae7b7d31d9dab75aed7"},params:{query:h,total_results:10}}).then((function(e){F(e.data.photos)}))}(e)}},"Search Picture"),""===N&&r.a.createElement("p",null,"It is recommended you provide a picture!"),r.a.createElement("div",{className:"picGallery flexParent flexWrap"},B.map((function(e,t){return r.a.createElement("button",{key:t,className:"picChoice",onClick:function(){P(e.src.small),I(e.src.medium)}},r.a.createElement("img",{src:e.src.small,alt:""}))}))),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",(t={required:!0,name:"description",id:"description"},Object(E.a)(t,"id","description"),Object(E.a)(t,"onChange",(function(e){J(e,"description")})),Object(E.a)(t,"cols","30"),Object(E.a)(t,"rows","10"),t)),r.a.createElement("button",{className:"siteButton disabled",id:"uploadAd",onClick:function(t){e.postAd(l,m,N,w,U,t),F([])}},"Upload Ad")))},v=a(17),j=a.n(v);a(63);j.a.initializeApp({apiKey:"AIzaSyCmJo2qZ6oG27sE46q7bTwshnyUAEJwTdg",authDomain:"studence-61105.firebaseapp.com",databaseURL:"https://studence-61105.firebaseio.com",projectId:"studence-61105",storageBucket:"studence-61105.appspot.com",messagingSenderId:"625737292006",appId:"1:625737292006:web:8dbc42e7b45e9abcb5c327"});var O=j.a,N=function(e){var t=e.selectedAd;return r.a.createElement("ul",{className:"flexParent flexColumn fullAdContainer"},r.a.createElement("li",{className:"poster",id:"poster"},r.a.createElement("h2",null,t.title),r.a.createElement("div",{className:"flexParent posterImg"},""===t.picture?r.a.createElement("img",{src:a(21),alt:t.title}):r.a.createElement("img",{src:t.bigPicture,alt:t.title})),r.a.createElement("p",{className:"price"},"$",t.price),r.a.createElement("p",null,t.description),r.a.createElement("p",null,"Sold by: ",t.username)),r.a.createElement("li",null,r.a.createElement("button",{className:"siteButton",onClick:function(){return e.addToCart(t)}},"Add to Cart"),r.a.createElement(i.b,{className:"siteButton buy",to:"/cart",onClick:function(){return e.addToCart(t)}},"Buy")),r.a.createElement("li",null,r.a.createElement("button",{className:"siteButton",onClick:function(){window.print()}},"Download Poster")))},P=function(e){var t=Object(n.useState)(0),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){var t=e.cart.reduce((function(e,t){return e+parseFloat(t.price)}),0);l(t)})),r.a.createElement("div",{className:"checkoutContainer"},r.a.createElement("h2",null,"CheckOut"),u&&r.a.createElement("p",null,"Thank You!"),0===e.cart.length&&r.a.createElement("p",null,"No items in Cart!"),e.cart.length>0&&r.a.createElement("div",{className:"flexParent flexColumn"},r.a.createElement("ul",null,e.cart.map((function(e,t){return r.a.createElement("li",{key:t,className:"flexParent checkOutItem"},r.a.createElement("p",null,e.title),r.a.createElement("p",null,"$",e.price))}))),r.a.createElement("h3",null,"Total: $",c),r.a.createElement("button",{className:"siteButton",onClick:function(){m(!0),e.confirmPurchase()}},"Confirm Purchase")))};a(65);var C=function(){var e=this,t=Object(n.useState)([]),a=Object(s.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)(!1),p=Object(s.a)(m,2),E=p[0],b=p[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),j=v[0],C=v[1],S=Object(n.useState)({}),w=Object(s.a)(S,2),I=w[0],x=w[1],A=Object(n.useState)([]),U=Object(s.a)(A,2),y=U[0],k=U[1];Object(n.useEffect)((function(){O.database().ref().on("value",(function(e){var t=e.val().itemsForSale,a=[];for(var n in t)a.push(t[n]);a.sort((function(e,t){return t.id-e.id})),l(a)}))}),[]);var L=function(e,t){O.database().ref().once("value",(function(a){var n=a.val().users;for(var r in n)if(e===n[r].username&&t===n[r].password)return C(e),b(!0),!0}))},B=function(e,t,a){a.preventDefault();var n=!1;O.database().ref().once("value",(function(a){var r=a.val().users;for(var c in r)if(e.toUpperCase()===r[c].username.toUpperCase()){n=!0;break}!1===n&&(O.database().ref("users/").push({username:e,password:t}),C(e),b(!0))}))},F=function(e,t,a,n,r,c){c.preventDefault();var l={};O.database().ref().once("value",(function(c){var s=c.val().itemsForSale;l={id:Object.keys(s).length+1,username:j,title:e,price:t,picture:a,bigPicture:n,description:r}}));O.database().ref("itemsForSale/").push(l),document.getElementById("adPost").reset()},T=function(e){x(e)},q=function(e){var t=y;t.push(e),k(t)},D=function(){k([])},$=function(){e.printWindow()};return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App wrapper"},r.a.createElement(u,{cart:y}),r.a.createElement(o.a,{path:"/Studence",render:function(){return r.a.createElement(d,{getSelectedAd:T,title:"Listings",ads:c})}}),r.a.createElement(o.a,{path:"/account",render:function(){return r.a.createElement(f,{getSelectedAd:T,isLoggedIn:E,logUserIn:L,registerUser:B,ads:c,currUser:j})}}),r.a.createElement(o.a,{path:"/postAd",render:function(){return r.a.createElement(h,{isLoggedIn:E,logUserIn:L,registerUser:B,postAd:F})}}),r.a.createElement(o.a,{path:"/fullAd/:id",render:function(){return r.a.createElement(N,{download:$,addToCart:q,selectedAd:I})}}),r.a.createElement(o.a,{path:"/cart/",render:function(){return r.a.createElement(P,{cart:y,confirmPurchase:D})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.1936e7a1.chunk.js.map