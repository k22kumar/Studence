(this.webpackJsonpstudence=this.webpackJsonpstudence||[]).push([[0],{21:function(e,t,a){e.exports=a.p+"static/media/noImageAvailable.625d1aff.jpg"},37:function(e,t,a){e.exports=a(66)},42:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),i=(a(42),a(2)),s=a(8),o=a(1),u=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(""),o=Object(i.a)(s,2),u=o[0],m=o[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),f=p[0],E=p[1],b=Object(n.useState)(""),g=Object(i.a)(b,2),h=g[0],v=g[1],j=function(e,t){"signInUsername"===t?l(e.target.value):"signInPassword"===t?m(e.target.value):"registerUsername"===t?E(e.target.value):"registerPassword"===t&&v(e.target.value)};return r.a.createElement("ul",{className:"loginContainer"},r.a.createElement("li",{className:"flexParent flexColumn loginForm"},r.a.createElement("h2",null,"Sign In"),r.a.createElement("form",{action:"",className:"flexParent flexColumn"},r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",placeholder:"Enter Username",onChange:function(e){j(e,"signInUsername")}})),r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"text",id:"password",placeholder:"Enter Password",onChange:function(e){j(e,"signInPassword")}}))),r.a.createElement("button",{onClick:function(){return e.logUserIn(c,u)}},"Sign In")),r.a.createElement("li",{className:"flexParent flexColumn registerForm"},r.a.createElement("h2",null,"Register"),r.a.createElement("form",{action:"",className:"flexParent flexColumn"},r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"newUsername"},"Username"),r.a.createElement("input",{type:"text",id:"newUsername",placeholder:"Enter Username",onChange:function(e){j(e,"registerUsername")}})),r.a.createElement("div",{className:"inputLabel"},r.a.createElement("label",{htmlFor:"newPassword"},"Password"),r.a.createElement("input",{type:"text",id:"newPassword",placeholder:"Enter Password",onChange:function(e){j(e,"registerPassword")}})),r.a.createElement("button",{onClick:function(t){return e.registerUser(f,h,t)}},"Register"))))},m=function(e){return r.a.createElement(s.b,{className:"flexParent adListing",to:"/fullAd/".concat(e.ad.id),onClick:function(){return e.getSelectedAd(e.ad)}},r.a.createElement("div",{className:"flexParent adPicContainer"},""===e.ad.picture?r.a.createElement("img",{src:a(21),alt:e.ad.title}):r.a.createElement("img",{src:e.ad.picture,alt:e.ad.title})),r.a.createElement("div",{className:"adListingText"},r.a.createElement("h3",null,"Title: ",e.ad.title),r.a.createElement("p",null,"Price: $",e.ad.price)))},d=function(e){return r.a.createElement("div",{className:"flexParent flexColumn adBoard"},r.a.createElement("h2",null,"Listings"),e.ads.map((function(t,a){return r.a.createElement(m,{key:a,ad:t,getSelectedAd:e.getSelectedAd})})))},p=function(e){var t=e.ads;return t=t.filter((function(t){return t.username===e.currUser})),r.a.createElement("div",null,!e.isLoggedIn&&r.a.createElement(u,{logUserIn:e.logUserIn,registerUser:e.registerUser}),e.isLoggedIn&&r.a.createElement("div",null,r.a.createElement("h3",null,"Your Ads"),r.a.createElement(d,{getSelectedAd:e.getSelectedAd,ads:t})))},f=function(){return r.a.createElement("nav",{className:"flexParent mainMenu"},r.a.createElement(s.b,{exact:!0,to:"/Studence"},r.a.createElement("h1",null,"Studence")),r.a.createElement(s.b,{className:"postAdNav",to:"/postAd"},"Post Ad"),r.a.createElement(s.b,{className:"account",to:"/account"},"Account ",r.a.createElement("i",{class:"fas fa-user-circle"})),r.a.createElement(s.b,{className:"cart",to:"/cart"},r.a.createElement("i",{"aria-label":"Click to view cart",class:"fas fa-shopping-cart"})))},E=a(11),b=a(36),g=a.n(b),h=function(e){var t,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],s=c[1],o=Object(n.useState)(0),m=Object(i.a)(o,2),d=m[0],p=m[1],f=Object(n.useState)(""),b=Object(i.a)(f,2),h=b[0],v=b[1],j=Object(n.useState)(""),O=Object(i.a)(j,2),S=O[0],C=O[1],P=Object(n.useState)(""),w=Object(i.a)(P,2),U=w[0],A=w[1],I=Object(n.useState)([]),x=Object(i.a)(I,2),k=x[0],y=x[1],N=function(e,t){"title"===t?s(e.target.value):"price"===t?p(e.target.value):"searchPic"===t?v(e.target.value):"description"===t&&A(e.target.value)};return r.a.createElement("div",null,!e.isLoggedIn&&r.a.createElement(u,{logUserIn:e.logUserIn,registerUser:e.registerUser}),e.isLoggedIn&&r.a.createElement("form",{action:"",id:"adPost"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{required:!0,type:"text",id:"title",onChange:function(e){N(e,"title")}}),r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{required:!0,type:"text",id:"price",onChange:function(e){N(e,"price")}}),r.a.createElement("label",{htmlFor:"searchPic"},"Search for Picture"),r.a.createElement("input",{type:"text",id:"searchPic",onChange:function(e){N(e,"searchPic")}}),r.a.createElement("button",{onClick:function(e){!function(e){e.preventDefault(),g()({url:"https://api.pexels.com/v1/search",method:"GET",responseType:"json",headers:{Authorization:"563492ad6f917000010000016fbbfe29d1004ae7b7d31d9dab75aed7"},params:{query:h,total_results:10}}).then((function(e){y(e.data.photos)}))}(e)}},"Search Picture"),""===S&&r.a.createElement("p",null,"It is recommended you provide a picture!"),r.a.createElement("div",null,k.map((function(e,t){return r.a.createElement("button",{key:t,className:"picChoice",onClick:function(){C(e.src.small)}},r.a.createElement("img",{src:e.src.original,alt:""}))}))),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",(t={required:!0,name:"description",id:"description"},Object(E.a)(t,"id","description"),Object(E.a)(t,"onChange",(function(e){N(e,"description")})),Object(E.a)(t,"cols","30"),Object(E.a)(t,"rows","10"),t)),r.a.createElement("button",{onClick:function(t){e.postAd(l,d,S,U,t)}},"Upload Ad")))},v=a(17),j=a.n(v);a(63);j.a.initializeApp({apiKey:"AIzaSyCmJo2qZ6oG27sE46q7bTwshnyUAEJwTdg",authDomain:"studence-61105.firebaseapp.com",databaseURL:"https://studence-61105.firebaseio.com",projectId:"studence-61105",storageBucket:"studence-61105.appspot.com",messagingSenderId:"625737292006",appId:"1:625737292006:web:8dbc42e7b45e9abcb5c327"});var O=j.a,S=function(e){var t=e.selectedAd;return r.a.createElement("div",null,r.a.createElement("h2",null,t.title),""===t.picture?r.a.createElement("img",{src:a(21),alt:t.title}):r.a.createElement("img",{src:t.picture,alt:t.title}),r.a.createElement("p",null,t.price),r.a.createElement("p",null,t.description),r.a.createElement("p",null,"Sold by: ",t.username),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.addToCart(t)}},"Add to Cart"),r.a.createElement(s.b,{to:"/cart",onClick:function(){return e.addToCart(t)}},"Buy")))},C=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)(!1),o=Object(i.a)(s,2),u=o[0],m=o[1];return Object(n.useEffect)((function(){var t=e.cart.reduce((function(e,t){return e+parseFloat(t.price)}),0);l(t)})),r.a.createElement("div",null,r.a.createElement("h2",null,"CheckOut"),u&&r.a.createElement("p",null,"Thank You!"),0===e.cart.length&&r.a.createElement("p",null,"No items in Cart!"),e.cart.length>0&&r.a.createElement("div",null,r.a.createElement("ul",null,e.cart.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("p",null,e.title),r.a.createElement("p",null,e.price))}))),r.a.createElement("h3",null,"Total: ",c),r.a.createElement("button",{onClick:function(){m(!0),e.confirmPurchase()}},"Confirm Purchase")))};a(65);var P=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),u=Object(i.a)(l,2),m=u[0],E=u[1],b=Object(n.useState)(""),g=Object(i.a)(b,2),v=g[0],j=g[1],P=Object(n.useState)({}),w=Object(i.a)(P,2),U=w[0],A=w[1],I=Object(n.useState)([]),x=Object(i.a)(I,2),k=x[0],y=x[1];Object(n.useEffect)((function(){O.database().ref().on("value",(function(e){var t=e.val().itemsForSale,a=[];for(var n in t)a.push(t[n]);a.sort((function(e,t){return t.id-e.id})),c(a)}))}),[]);var N=function(e,t){O.database().ref().once("value",(function(a){var n=a.val().users;for(var r in n){if(e===n[r].username&&t===n[r].password)return j(e),E(!0),!0;console.log("fail")}}))},F=function(e,t,a){a.preventDefault();var n=!1;O.database().ref().once("value",(function(a){var r=a.val().users;for(var c in r)if(e.toUpperCase()===r[c].username.toUpperCase()){n=!0;break}!1===n&&(O.database().ref("users/").push({username:e,password:t}),j(e),E(!0))}))},L=function(e,t,a,n,r){r.preventDefault();var c={};O.database().ref().once("value",(function(r){var l=r.val().itemsForSale;c={id:Object.keys(l).length+1,username:v,title:e,price:t,picture:a,description:n}}));O.database().ref("itemsForSale/").push(c),document.getElementById("adPost").reset()},T=function(e){A(e)},q=function(e){var t=k;t.push(e),y(t)},B=function(){y([])};return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App wrapper"},r.a.createElement(f,null),r.a.createElement(o.a,{path:"/Studence",render:function(){return r.a.createElement(d,{getSelectedAd:T,ads:a})}}),r.a.createElement(o.a,{path:"/account",render:function(){return r.a.createElement(p,{getSelectedAd:T,isLoggedIn:m,logUserIn:N,registerUser:F,ads:a,currUser:v})}}),r.a.createElement(o.a,{path:"/postAd",render:function(){return r.a.createElement(h,{isLoggedIn:m,logUserIn:N,registerUser:F,postAd:L})}}),r.a.createElement(o.a,{path:"/fullAd/:id",render:function(){return r.a.createElement(S,{addToCart:q,selectedAd:U})}}),r.a.createElement(o.a,{path:"/cart/",render:function(){return r.a.createElement(C,{cart:k,confirmPurchase:B})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.92029327.chunk.js.map