(this.webpackJsonpstudence=this.webpackJsonpstudence||[]).push([[0],{35:function(e,t,a){e.exports=a(64)},40:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),l=a.n(c),i=(a(40),a(2)),u=a(8),o=a(1),s=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(""),o=Object(i.a)(u,2),s=o[0],m=o[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),E=p[0],f=p[1],b=Object(n.useState)(""),g=Object(i.a)(b,2),h=g[0],v=g[1],j=function(e,t){"signInUsername"===t?l(e.target.value):"signInPassword"===t?m(e.target.value):"registerUsername"===t?f(e.target.value):"registerPassword"===t&&v(e.target.value)};return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("h2",null,"Sign In"),r.a.createElement("form",{action:""},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{type:"text",id:"username",onChange:function(e){j(e,"signInUsername")}}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"text",id:"password",onChange:function(e){j(e,"signInPassword")}})),r.a.createElement("button",{onClick:function(){return e.logUserIn(c,s)}},"Sign In")),r.a.createElement("li",null,r.a.createElement("h2",null,"Register"),r.a.createElement("form",{action:""},r.a.createElement("label",{htmlFor:"newUsername"},"Username"),r.a.createElement("input",{type:"text",id:"newUsername",onChange:function(e){j(e,"registerUsername")}}),r.a.createElement("label",{htmlFor:"newPassword"},"Password"),r.a.createElement("input",{type:"text",id:"newPassword",onChange:function(e){j(e,"registerPassword")}}),r.a.createElement("button",{onClick:function(t){return e.registerUser(E,h,t)}},"Register"))))},m=function(e){return r.a.createElement(u.b,{to:"/fullAd/".concat(e.ad.id),onClick:function(){return e.getSelectedAd(e.ad)}},r.a.createElement("div",null,r.a.createElement("img",{src:e.ad.picture,alt:""})),r.a.createElement("div",null,r.a.createElement("h3",null,"Title: ",e.ad.title),r.a.createElement("p",null,"Price: $",e.ad.price)))},d=function(e){return r.a.createElement("div",null,e.ads.map((function(t,a){return r.a.createElement(m,{key:a,ad:t,getSelectedAd:e.getSelectedAd})})))},p=function(e){var t=e.ads;return t=t.filter((function(t){return t.username===e.currUser})),r.a.createElement("div",null,!e.isLoggedIn&&r.a.createElement(s,{logUserIn:e.logUserIn,registerUser:e.registerUser}),e.isLoggedIn&&r.a.createElement("div",null,r.a.createElement("h3",null,"Your Ads"),r.a.createElement(d,{getSelectedAd:e.getSelectedAd,ads:t})))},E=function(){return r.a.createElement("nav",null,r.a.createElement(u.b,{exact:!0,to:"/"},r.a.createElement("h1",null,"Studence")),r.a.createElement(u.b,{to:"/postAd"},"Post Ad"),r.a.createElement(u.b,{to:"/account"},"Account"),r.a.createElement(u.b,{to:"/cart"},"Cart"))},f=a(34),b=a.n(f),g=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(0),o=Object(i.a)(u,2),m=o[0],d=o[1],p=Object(n.useState)(""),E=Object(i.a)(p,2),f=E[0],g=E[1],h=Object(n.useState)(""),v=Object(i.a)(h,2),j=v[0],O=v[1],S=Object(n.useState)(""),C=Object(i.a)(S,2),U=C[0],w=C[1],A=Object(n.useState)([]),I=Object(i.a)(A,2),k=I[0],y=I[1],P=function(e,t){"title"===t?l(e.target.value):"price"===t?d(e.target.value):"searchPic"===t?g(e.target.value):"description"===t&&w(e.target.value)};return r.a.createElement("div",null,!e.isLoggedIn&&r.a.createElement(s,{logUserIn:e.logUserIn,registerUser:e.registerUser}),e.isLoggedIn&&r.a.createElement("form",{action:""},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{required:!0,type:"text",id:"title",onChange:function(e){P(e,"title")}}),r.a.createElement("label",{htmlFor:"price"},"Price"),r.a.createElement("input",{required:!0,type:"text",id:"price",onChange:function(e){P(e,"price")}}),r.a.createElement("label",{htmlFor:"searchPic"},"Search for Picture"),r.a.createElement("input",{type:"text",id:"searchPic",onChange:function(e){P(e,"searchPic")}}),r.a.createElement("button",{onClick:function(e){!function(e){e.preventDefault(),b()({url:"https://api.pexels.com/v1/search",method:"GET",responseType:"json",headers:{Authorization:"563492ad6f917000010000016fbbfe29d1004ae7b7d31d9dab75aed7"},params:{query:f,total_results:10}}).then((function(e){y(e.data.photos)}))}(e)}},"Search Picture"),r.a.createElement("div",null,k.map((function(e,t){return r.a.createElement("button",{key:t,className:"picChoice",onClick:function(){O(e.src.small)}},r.a.createElement("img",{src:e.src.original,alt:""}))}))),r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("input",{required:!0,type:"text",id:"description",onChange:function(e){P(e,"description")}}),r.a.createElement("button",{onClick:function(t){e.postAd(c,m,j,U,t)}},"Upload Ad")))},h=a(16),v=a.n(h);a(61);v.a.initializeApp({apiKey:"AIzaSyCmJo2qZ6oG27sE46q7bTwshnyUAEJwTdg",authDomain:"studence-61105.firebaseapp.com",databaseURL:"https://studence-61105.firebaseio.com",projectId:"studence-61105",storageBucket:"studence-61105.appspot.com",messagingSenderId:"625737292006",appId:"1:625737292006:web:8dbc42e7b45e9abcb5c327"});var j=v.a,O=function(e){var t=e.selectedAd;return r.a.createElement("div",null,r.a.createElement("h2",null,t.title),r.a.createElement("img",{src:t.picture,alt:""}),r.a.createElement("p",null,t.price),r.a.createElement("p",null,t.description),r.a.createElement("p",null,"Sold by: ",t.username),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.addToCart(t)}},"Add to Cart"),r.a.createElement(u.b,{to:"/cart",onClick:function(){return e.addToCart(t)}},"Buy")))},S=function(e){var t=Object(n.useState)(0),a=Object(i.a)(t,2),c=a[0],l=a[1],u=Object(n.useState)(!1),o=Object(i.a)(u,2),s=o[0],m=o[1];return Object(n.useEffect)((function(){var t=e.cart.reduce((function(e,t){return e+parseFloat(t.price)}),0);l(t)})),r.a.createElement("div",null,r.a.createElement("h2",null,"CheckOut"),s&&r.a.createElement("p",null,"Thank You!"),0===e.cart.length&&r.a.createElement("p",null,"No items in Cart!"),e.cart.length>0&&r.a.createElement("div",null,r.a.createElement("ul",null,e.cart.map((function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("p",null,e.title),r.a.createElement("p",null,e.price))}))),r.a.createElement("h3",null,"Total: ",c),r.a.createElement("button",{onClick:function(){m(!0),e.confirmPurchase()}},"Confirm Purchase")))};a(63);var C=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),s=Object(i.a)(l,2),m=s[0],f=s[1],b=Object(n.useState)(""),h=Object(i.a)(b,2),v=h[0],C=h[1],U=Object(n.useState)({}),w=Object(i.a)(U,2),A=w[0],I=w[1],k=Object(n.useState)([]),y=Object(i.a)(k,2),P=y[0],x=y[1];Object(n.useEffect)((function(){j.database().ref().on("value",(function(e){var t=e.val().itemsForSale,a=[];for(var n in t)a.push(t[n]);c(a)}))}),[]);var F=function(e,t){j.database().ref().once("value",(function(a){var n=a.val().users;for(var r in n){if(e===n[r].username&&t===n[r].password)return C(e),f(!0),!0;console.log("fail")}}))},T=function(e,t,a){a.preventDefault();var n=!1;j.database().ref().once("value",(function(a){var r=a.val().users;for(var c in r)if(e.toUpperCase()===r[c].username.toUpperCase()){n=!0;break}!1===n&&(j.database().ref("users/").push({username:e,password:t}),C(e),f(!0))}))},L=function(e,t,a,n,r){r.preventDefault();var c={};j.database().ref().once("value",(function(r){var l=r.val().itemsForSale;c={id:Object.keys(l).length+1,username:v,title:e,price:t,picture:a,description:n}}));j.database().ref("itemsForSale/").push(c)},q=function(e){I(e)},D=function(e){var t=P;t.push(e),x(t)},B=function(){x([])};return r.a.createElement(u.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(o.a,{exact:!0,path:"/",render:function(){return r.a.createElement(d,{getSelectedAd:q,ads:a})}}),r.a.createElement(o.a,{path:"/account",render:function(){return r.a.createElement(p,{getSelectedAd:q,isLoggedIn:m,logUserIn:F,registerUser:T,ads:a,currUser:v})}}),r.a.createElement(o.a,{path:"/postAd",render:function(){return r.a.createElement(g,{isLoggedIn:m,logUserIn:F,registerUser:T,postAd:L})}}),r.a.createElement(o.a,{path:"/fullAd/:id",render:function(){return r.a.createElement(O,{addToCart:D,selectedAd:A})}}),r.a.createElement(o.a,{path:"/cart/",render:function(){return r.a.createElement(S,{cart:P,confirmPurchase:B})}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.ca46a733.chunk.js.map